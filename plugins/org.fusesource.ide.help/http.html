<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>HTTP</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Plugins for Eclipse"><link rel="up" href="RiderHTTPEptRef.html" title="HTTP Endpoints"><link rel="prev" href="RiderHTTPEptRef.html" title="HTTP Endpoints"><link rel="next" href="http4.html" title="HTTP4"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry"><a name="http"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>HTTP &#8212; provides endpoints for consuming external HTTP resources</p></div><div class="refsection"><a name="d0e27501"></a><h2>Overview</h2><p>The HTTP component provides HTTP based endpoints for consuming external HTTP resources 
    as a client to call external servers using HTTP.</p><p>The HTTP component can only send messages to external resources. It should never be used 
      as input into a route. To expose an HTTP endpoint via a HTTP server as input to a route, you 
      can use the <span class="olink">Jetty Component</span>.</p></div><div class="refsection"><a name="d0e27511"></a><h2>URI format</h2><p>The URI format for an HTTP endpoint is:</p><pre class="programlisting">http(s):<em class="replaceable"><code>hostname</code></em>[:<em class="replaceable"><code>port</code></em>][/<em class="replaceable"><code>resourceUri</code></em>][?<em class="replaceable"><code>options</code></em>]</pre><p>By default the port is set to <code class="code">80</code> for HTTP and to 
      <code class="code">443</code> for HTTPS.</p></div><div class="refsection"><a name="d0e27538"></a><h2>Dependencies</h2><p>Maven users will need to add a dependency on <code class="code">camel-http</code> to their 
      <code class="filename">pom.xml</code> for this component:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;dependency&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;groupId&gt;</strong>org.apache.camel<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/groupId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;artifactId&gt;</strong>camel-http<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/artifactId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;version&gt;</strong>x.x.x<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/version&gt;</strong>
    <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- use the same version as your Camel core version --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong></pre></div><div class="refsection"><a name="d0e27551"></a><h2>Options</h2><p><a class="xref" href="http.html#HTTPRefOptsTbl" title="Table&nbsp;21.&nbsp;HTTP endpoint options">Table&nbsp;21, &#8220;HTTP endpoint options&#8221;</a> lists the options for an HTTP endpoint.</p><div class="table"><a name="HTTPRefOptsTbl"></a><p class="title"><b>Table&nbsp;21.&nbsp;HTTP endpoint options</b></p><div class="table-contents"><table summary="HTTP endpoint options" width="100%" border="1"><colgroup><col width="33%"><col width="33%"><col width="34%"></colgroup><thead><tr><th>Name</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">throwExceptionOnFailure</code></td><td><code class="code">true</code></td><td>Specifies if you want to disable throwing the 
              <code class="exceptionname">HttpOperationFailedException</code> in case of failed 
              responses from the remote server. This allows you to get all responses regardless of 
              the HTTP status code.</td></tr><tr><td><code class="code">bridgeEndpoint</code></td><td><code class="code">false</code></td><td>Specifies if the HttpProducer ignores the <code class="code">Exchange.HTTP_URI</code> 
              header, and use the endpoint's URI for request. If the option is <code class="code">true</code>, 
              HttpProducer and CamelServlet will skip the gzip processing if the 
              content-encoding is <code class="code">gzip</code>.</td></tr><tr><td><code class="code">disableStreamCache</code></td><td><code class="code">false</code></td><td>Specifies if the DefaultHttpBinding copies the request input stream directly 
              into the message body. The default setting is to copy the request input stream into 
              a stream cache and into the message body to support reading the message twice.</td></tr><tr><td><code class="code">httpBinding</code></td><td><code class="code">null</code></td><td>Specifies a reference to a 
              <code class="code">org.apache.camel.component.http.HttpBinding</code> in the registry.</td></tr><tr><td><code class="code">httpClientConfigurer</code></td><td><code class="code">null</code></td><td>Specifies a reference to a 
              <code class="code">org.apache.camel.component.http.HttpClientConfigurer</code> in the registry.</td></tr><tr><td><code class="code">httpClient.<em class="replaceable"><code>XXX</code></em></code></td><td>&nbsp;</td><td>Specifies options to set on the <a class="link" href="http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/params/HttpClientParams.html" target="_top">HttpClientParams</a>. For instance <code class="literal">httpClient.soTimeout=5000</code> will set the 
              <code class="literal">SO_TIMEOUT</code> to 5 seconds. </td></tr><tr><td><code class="code">clientConnectionManager</code></td><td><code class="code">null</code></td><td>Specifies a reference to a custom 
              <code class="literal">org.apache.http.conn.ClientConnectionManager</code>. </td></tr></tbody></table></div></div><br class="table-break"></div><div class="refsection"><a name="d0e27663"></a><h2>Authentication options</h2><p>The following authentication options can also be set on the HTTP endpoint:</p><div class="table"><a name="d0e27668"></a><p class="title"><b>Table&nbsp;22.&nbsp;HTTP authentication options</b></p><div class="table-contents"><table summary="HTTP authentication options" width="100%" border="1"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">authMethod</code></td><td>
              <p>Specifies the authentication method to use. Supported methods are:</p>
            <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">Basic</code></p></li><li class="listitem"><p><code class="code">Digest</code></p></li><li class="listitem"><p><code class="code">NTLM</code></p></li></ul></div>
            </td></tr><tr><td><code class="code">authMethodPriority</code></td><td>Specifies the priority of the authentication methods using a comma seperated 
            list.</td></tr><tr><td><code class="code">authUsername</code></td><td>Specifies the username for authentication.</td></tr><tr><td><code class="code">authPassword</code></td><td>Specifies the password for authentication.</td></tr><tr><td><code class="code">authDomain</code></td><td>Specifies the domain for NTML authentication.</td></tr><tr><td><code class="code">authHost</code></td><td>Specifies an optional host for NTML authentication.</td></tr><tr><td><code class="code">proxyHost</code></td><td>Specifies the proxy host name.</td></tr><tr><td><code class="code">proxyPort</code></td><td>Specifies the proxy port number.</td></tr><tr><td><code class="code">proxyAuthMethod</code></td><td>
              <p>Specifies the authentication method to use for connecting to the 
              proxy. Supported methods are:</p>
              <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">Basic</code></p></li><li class="listitem"><p><code class="code">Digest</code></p></li><li class="listitem"><p><code class="code">NTLM</code></p></li></ul></div>
            </td></tr><tr><td><code class="code">proxyAuthUsername</code></td><td>Specifies the username for proxy authentication.</td></tr><tr><td><code class="code">proxyAuthPassword</code></td><td>Specifies the password for proxy authentication.</td></tr><tr><td><code class="code">proxyAuthDomain</code></td><td>Specifies the domain for proxy NTML authentication.</td></tr><tr><td><code class="code">proxyAuthHost</code></td><td>Specifies the optional host for proxy NTML authentication.</td></tr></tbody></table></div></div><br class="table-break"><p>When using authentication you <span class="bold"><strong>must</strong></span> provide a value for 
      either the <code class="literal">authMethod</code> or <code class="literal">authProxyMethod</code> options.</p></div><div class="refsection"><a name="d0e27802"></a><h2>Message headers</h2><p>The following <code class="code">Exchange</code> properties are recognized by HTTP endpoints:</p><div class="table"><a name="d0e27810"></a><p class="title"><b>Table&nbsp;23.&nbsp;HTTP Exchange properties</b></p><div class="table-contents"><table summary="HTTP Exchange properties" width="100%" border="1"><colgroup><col width="33%"><col width="33%"><col width="34%"></colgroup><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">CamelHttpUri</code></td><td><code class="code">String</code></td><td>Specifies the URI to call. The value if this header will override the URI set 
            directly on the endpoint.</td></tr><tr><td><code class="code">CamelHttpPath</code></td><td><code class="code">String</code></td><td>Specifies the Request URI's path. The header will be used to build the request 
              URI with the HTTP_URI. If the path is start with <code class="code">/</code>, the HTTP producer 
              will try to find the relative path based on the <code class="code">HTTP_BASE_URI</code> header or 
              the <code class="code">exchange.getFromEndpoint().getEndpointUri()</code> method.</td></tr><tr><td><code class="code">CamelHttpQuery</code></td><td><code class="code">String</code></td><td>Specifies the URI parameters. The value of this header overrides the URI 
            parameters set directly on the endpoint.</td></tr><tr><td><code class="code">CamelHttpResponseCode</code></td><td><code class="code">int</code></td><td>Specifies the HTTP response code from the external server.</td></tr><tr><td><code class="code">CamelHttpCharacterEncoding</code></td><td><code class="code">String</code></td><td>Specifies the character encoding.</td></tr><tr><td><code class="code">Content-Type</code></td><td><code class="code">String</code></td><td>Specifies the HTTP content type. This header is populated on both the IN and 
              OUT message to provide a content type.</td></tr><tr><td><code class="code">Content-Encoding</code></td><td><code class="code">String</code></td><td>Specifies the HTTP content encoding. This header is populated on both the IN 
              and OUT message to provide a content encoding.</td></tr><tr><td><code class="code">CamelHttpServletRequest</code></td><td><code class="code">String</code></td><td>Specifies the <code class="code">HttpServletRequest</code> object.</td></tr><tr><td><code class="code">CamelHttpServletResponse</code></td><td><code class="code">String</code></td><td>Specifies the <code class="code">HttpServletResponse</code> object.</td></tr><tr><td><code class="code">CamelHttpProtocolVersion</code></td><td><code class="code">String</code></td><td>Specifies the HTTP protocol version. If you do not specify the header, 
              HttpProducer will use the default value <code class="code">HTTP/1.1</code>.</td></tr></tbody></table></div></div><br class="table-break"></div><div class="refsection"><a name="d0e27931"></a><h2>Message Body</h2><p>Apache Camel will store the HTTP response from the external server on the OUT body. All
            headers from the IN message will be copied to the OUT message, so headers are preserved
            during routing. Additionally, Apache Camel will add the HTTP response headers as well to
            the OUT message headers.</p></div><div class="refsection"><a name="d0e27936"></a><h2>Response code</h2><p>Apache Camel will handle according to the HTTP response code:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Response code is in the range 100..299, Apache Camel regards it as a success
                    response.</p></li><li class="listitem"><p>Response code is in the range 300..399, Apache Camel regards it as a redirection
                    response and will throw a <code class="literal">HttpOperationFailedException</code> with
                    the information.</p></li><li class="listitem"><p>Response code is 400+, Apache Camel regards it as an external server failure and will
                    throw a <code class="exceptionname">HttpOperationFailedException</code> with the
                    information. <code class="code">throwExceptionOnFailure</code> can be set to
                        <code class="literal">false</code> to prevent the
                        <code class="exceptionname">HttpOperationFailedException</code> from being
                    thrown for failed response codes. This allows you to get any response from the
                    remote server.</p></li></ul></div></div><div class="refsection"><a name="d0e27966"></a><h2>Related topics</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><span class="olink">????</span></td></tr><tr><td><span class="olink">????</span></td></tr><tr><td>
        <a class="link" href="http://hc.apache.org/httpclient-3.x/apidocs/org/apache/commons/httpclient/params/HttpClientParams.html" target="_top">HttpClientParams</a>
      </td></tr></table></div></div></body></html>
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Cometd</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><meta name="keywords" content="Fuse Plugins for Eclipse, Apache Camel, Open Source, open source, Fuse, Red Hat, Apache Camel, EIP, Enterprise Integration Patterns"><meta name="keywords" content="Fuse Plugins for Eclipse, Apache Camel, Open Source, open source, Fuse, Red Hat, Apache Camel, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Fuse Plugins for Eclipse"><link rel="up" href="RiderCompRef.html" title="Endpoint Reference"><link rel="prev" href="class.html" title="Class"><link rel="next" href="_IDU_Context.html" title="Context"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" title="Cometd"><div class="titlepage"><div><div><h2 class="title"><a name="cometd"></a>Cometd</h2></div></div></div><div class="simplesect" title="Cometd Component"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Cometd_HSH_CometdComponent"></a>Cometd Component</h2></div></div></div><p>The <span class="bold"><strong>cometd:</strong></span> component is a transport for working with
            the <a class="link" href="http://www.mortbay.org/jetty" target="_top">jetty</a> implementation of the
                <a class="link" href="http://docs.codehaus.org/display/JETTY/Cometd+%28aka+Bayeux%29" target="_top">cometd/bayeux protocol</a>. Using this component in combination with the dojo
            toolkit library it's possible to push Apache Camel messages directly into the browser using
            an AJAX based mechanism.</p></div><div class="simplesect" title="URI format"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Cometd_HSH_URIformat"></a>URI format</h2></div></div></div><pre class="programlisting">cometd://host:port/channelName[?options]</pre><p>The <span class="bold"><strong>channelName</strong></span> represents a topic that can be
            subscribed to by the Apache Camel endpoints.</p></div><div class="simplesect" title="Examples"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Cometd_HSH_Examples"></a>Examples</h2></div></div></div><pre class="programlisting">cometd://localhost:8080/service/mychannel
cometds://localhost:8443/service/mychannel</pre><p>where <code class="literal">cometds:</code> represents an SSL configured endpoint.</p></div><div class="simplesect" title="Options"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Cometd_HSH_Options"></a>Options</h2></div></div></div><table id="d0e36335"><tr>
        <th> Name </th>
        <th> Default Value </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">resourceBase</code>
        </td>
        <td></td>
        <td> The root directory for the web resources or classpath. Use the protocol file: or classpath: depending if you want that the component loads the resource from file system or classpath. Classpath is required for OSGI deployment where the resources are packaged in the jar </td>
      </tr><tr>
        <td><code class="literal">timeout</code>
        </td>
        <td><code class="literal">240000</code>
        </td>
        <td> The server side poll timeout in milliseconds. This is how long the server will
                    hold a reconnect request before responding. </td>
      </tr><tr>
        <td><code class="literal">interval</code>
        </td>
        <td><code class="literal">0</code>
        </td>
        <td> The client side poll timeout in milliseconds. How long a client will wait
                    between reconnects</td>
      </tr><tr>
        <td><code class="literal">maxInterval</code>
        </td>
        <td><code class="literal">30000</code>
        </td>
        <td> The max client side poll timeout in milliseconds. A client will be removed if a
                    connection is not received in this time. </td>
      </tr><tr>
        <td><code class="literal">multiFrameInterval</code>
        </td>
        <td><code class="literal">1500</code>
        </td>
        <td> The client side poll timeout, if multiple connections are detected from the
                    same browser. </td>
      </tr><tr>
        <td><code class="literal">jsonCommented</code>
        </td>
        <td><code class="literal">true</code>
        </td>
        <td> If <code class="literal">true</code>, the server will accept JSON wrapped in a comment
                    and will generate JSON wrapped in a comment. This is a defence against Ajax
                    Hijacking. </td>
      </tr><tr>
        <td><code class="literal">logLevel</code>
        </td>
        <td><code class="literal">1</code>
        </td>
        <td><code class="literal">0</code>=none, <code class="literal">1</code>=info,
                    <code class="literal">2</code>=debug. </td>
      </tr></table><p>You can append query options to the URI in the following format,
                <code class="literal">?option=value&amp;option=value&amp;...</code>
    </p><p>Here is some examples of how to pass the parameters.</p><p>For file (when the Webapp resources are located in the Web Application directory) <code class="code">cometd://localhost:8080?resourceBase=file./webapp</code>.
For classpath (when the web resources are packaged inside the Webapp folder) <code class="code">cometd://localhost:8080?resourceBase=classpath:webapp</code>.</p></div></div></body></html>
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>To Run a Route</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="description" content="This tutorial walks you through the process of running a route."><meta name="keywords" content="Apache Camel, Open Source, open source, Fuse, Red Hat, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="RiderTutorials.html" title="Tutorials"><link rel="prev" href="RiderTutorialCreate.html" title="To Create a New Route"><link rel="next" href="RiderTutorialCBR.html" title="To Add a Content-Based Router"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="RiderTutorialRun"></a>To Run a Route</h1></div><div><div class="abstract"><p>This tutorial walks you through the process of running a route.</p></div></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e10696"></a>Goals</h2></div></div></div><p>In this tutorial you will:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>run a route as a local Apache Camel Context (without tests)</p></li><li class="listitem"><p>send messages through the route</p></li><li class="listitem"><p>examine the messages received by the endpoints</p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e10711"></a>Prerequisites</h2></div></div></div><p>To complete this tutorial you will need the CBRroute project created in <a class="xref" href="RiderTutorialCreate.html" title="To Create a New Route"><i>To Create a New Route</i></a>.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderRunRun"></a>Running the route</h2></div></div></div><p>To run the route:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Open the <span class="bold"><strong>CBRroute</strong></span> project you created in <a class="xref" href="RiderTutorialCreate.html#RiderTutorialCreateCamel" title="Creating the Fuse project">Creating the Fuse project</a>.</p></li><li class="step"><p>In <span class="guilabel">Project Explorer</span>, select <code class="filename">CBRroute/src/main/resources/OSGi-INF/blueprint/camelContext.xml</code>
                    .</p></li><li class="step"><p>Right-click it to open the context menu, then select <span class="guimenu">Run As</span> &gt; <span class="guimenuitem">Local Camel Context (without tests)</span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you select <span class="guimenuitem">Local Camel Context</span> instead, the tooling automatically runs the routing context against the supplied JUnit test,
                        and it will fail. In the <a class="xref" href="RiderTutorialJUnit.html" title="To Test a Route with JUnit"><i>To Test a Route with JUnit</i></a> tutorial, you will replace the supplied JUnit test with one you create for
                        the this project.</p></td></tr></table></div><p>The <span class="guilabel">Console</span> panel opens to display log messages that reflect the progress of the project's execution. At the
                    beginning, Maven downloads the resources necessary to update the local Maven repository, which may take a few minutes.</p><p>Messages similar to the following indicate that the route executed successfully.</p><div class="informalexample"><pre class="screen"><code class="computeroutput">[INFO] Starting Camel ...
[mel.test.blueprint.Main.main()] MainSupport                INFO  Apache Camel 2.13.2 starting
[mel.test.blueprint.Main.main()] Activator                  INFO  Camel activator starting
[mel.test.blueprint.Main.main()] Activator                  INFO  Camel activator started
[mel.test.blueprint.Main.main()] BlueprintExtender          INFO  No quiesce support is available, so blueprint components will not participate in quiesce operations
[         Blueprint Extender: 1] BlueprintContainerImpl     INFO  Bundle cbr-route is waiting for namespace handlers [http://camel.apache.org/schema/blueprint]
[         Blueprint Extender: 1] BlueprintCamelContext      INFO  Apache Camel 2.13.2 (CamelContext: blueprintContext) is starting
[         Blueprint Extender: 1] ManagedManagementStrategy  INFO  JMX is enabled
[heysmbp.home:1099/jmxrmi/camel] DefaultManagementAgent     INFO  JMX Connector thread started and listening at: service:jmx:rmi:///jndi/rmi://janemurpheysmbp.home:1099/jmxrmi/camel
[         Blueprint Extender: 1] BlueprintCamelContext      INFO  AllowUseOriginalMessage is enabled. If access to the original message is not needed, then its recommended to turn this option off as it may improve performance.
[         Blueprint Extender: 1] BlueprintCamelContext      INFO  StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
[         Blueprint Extender: 1] FileEndpoint               INFO  Endpoint is configured with noop=true so forcing endpoint to be idempotent as well
[         Blueprint Extender: 1] FileEndpoint               INFO  Using default memory based idempotent repository with cache max size: 1000
[         Blueprint Extender: 1] XPathBuilder               INFO  Created default XPathFactory com.sun.org.apache.xpath.internal.jaxp.XPathFactoryImpl@46e48d4
[         Blueprint Extender: 1] BlueprintCamelContext      INFO  Route: Route1 started and consuming from: Endpoint[file://src/data?noop=true]
[         Blueprint Extender: 1] BlueprintCamelContext      INFO  Total 1 routes, of which 1 is started.
[         Blueprint Extender: 1] BlueprintCamelContext      INFO  Apache Camel 2.13.2 (CamelContext: blueprintContext) started in 1.073 seconds</code></pre></div></li><li class="step"><p>To shutdown the route, click <span class="inlinemediaobject"><img src="./images/ConsoleStopButton.jpg" align="middle" alt="console's shutdown button"></span> located at the top, right of the <span class="guilabel">Console</span> panel.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e10784"></a>Verifying the route</h2></div></div></div><p>To verify that the route executed properly:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In <span class="guilabel">Project Explorer</span>, select <code class="filename">CBRroute</code>. </p></li><li class="step"><p>Right-click it to open the context menu, then select
                    <span class="guimenuitem">Refresh</span>.</p></li><li class="step"><p>In <span class="guilabel">Project Explorer</span>, locate the folder <code class="filename">target/messages/</code> and expand it, as shown in <a class="xref" href="RiderTutorialRun.html#tutMsgTarget" title="Figure&nbsp;13.&nbsp;Target message destination in Project Explorer tree">Figure&nbsp;13</a>.</p><div class="figure"><a name="tutMsgTarget"></a><p class="title"><b>Figure&nbsp;13.&nbsp;Target message destination in Project Explorer tree</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/tutTargetMessage.png" align="middle" width="140.4" alt="message destination"></div></div></div><br class="figure-break"></li><li class="step"><p>Verify that the <code class="filename">target/messages/others</code> folder contains the six
                    message files, <code class="filename">message1.xml</code> through
                    <code class="filename">message6.xml</code>.</p></li><li class="step"><p>Double-click <code class="filename">message1.xml</code> to open it in the editor's <span class="guilabel">Design</span> view, then select the
                        <span class="guilabel">Source</span> tab at the bottom, left of the canvas to see the xml code.</p><p>It's contents should match that shown in <a class="xref" href="RiderTutorialRun.html#RiderTurorialTestEx010" title="Example&nbsp;2.&nbsp;Contents of message1.xml">Example&nbsp;2</a>.</p><div class="example"><a name="RiderTurorialTestEx010"></a><p class="title"><b>Example&nbsp;2.&nbsp;Contents of message1.xml</b></p><div class="example-contents"><pre class="programlisting"><span xmlns="http://www.w3.org/1999/xhtml" class="hl-directive" style="color: maroon">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;order&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;customer&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;name&gt;</strong>Brooklyn Zoo<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/name&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;city&gt;</strong>Brooklyn<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/city&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;country&gt;</strong>USA<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/country&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/customer&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;orderline&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;animal&gt;</strong>wombat<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/animal&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;quantity&gt;</strong>15<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/quantity&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;maxAllowed&gt;</strong>25<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/maxAllowed&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/orderline&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/order&gt;</strong></pre></div></div><br class="example-break"></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e10859"></a>Further reading</h2></div></div></div><p>To learn more about:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>configuring runtime profiles, see <span class="italic">Red Hat JBoss Fuse Tooling: JBoss Fuse Tooling User Guide</span> at <a class="link" href="https://access.redhat.com/site/documentation/JBoss_Fuse/" target="_top">https://access.redhat.com/site/documentation/JBoss_Fuse/</a>.</p></li><li class="listitem"><p>deploying Apache Camel applications see <a class="link" href="https://access.redhat.com/documentation/en-US/Red_Hat_JBoss_Fuse/6.2/html/Deploying_into_the_Container/index.html" target="_top">Red Hat JBoss Fuse: Deploying into
                        the Container</a>.</p></li></ul></div></div></div></body></html>
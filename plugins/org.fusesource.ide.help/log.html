<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Log</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><meta name="keywords" content="Fuse Plugins for Eclipse, Apache Camel, Open Source, open source, Fuse, Red Hat, Apache Camel, EIP, Enterprise Integration Patterns"><meta name="keywords" content="Fuse Plugins for Eclipse, Apache Camel, Open Source, open source, Fuse, Red Hat, Apache Camel, EIP, Enterprise Integration Patterns"><link rel="home" href="index.html" title="Fuse Plugins for Eclipse"><link rel="up" href="RiderCompRef.html" title="Endpoint Reference"><link rel="prev" href="list.html" title="List"><link rel="next" href="lucene.html" title="Lucene"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" title="Log"><div class="titlepage"><div><div><h2 class="title"><a name="log"></a>Log</h2></div></div></div><div class="simplesect" title="Log Component"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Log_HSH_LogComponent"></a>Log Component</h2></div></div></div><p>The <span class="bold"><strong>log:</strong></span> component logs message exchanges to the
      underlying logging mechanism.</p></div><div class="simplesect" title="URI format"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Log_HSH_URIformat"></a>URI format</h2></div></div></div><pre class="programlisting">log:loggingCategory[?options]</pre><p>Where <span class="bold"><strong>loggingCategory</strong></span> is the name of the logging category
      to use. You can append query options to the URI in the following format,
        <code class="literal">?option=value&amp;option=value&amp;...</code>
    </p><p>For example, a log endpoint typically specifies the logging level using the
        <code class="literal">level</code> option, as follows:</p><pre class="programlisting">log:org.apache.camel.example?level=DEBUG</pre><p>The default logger logs every exchange (<span class="emphasis"><em>regular logging</em></span>). But
      Apache Camel also ships with the <code class="literal">Throughput</code> logger, which is used whenever the
        <code class="literal">groupSize</code> option is specified.</p><div class="tip" title="Also a log in the DSL" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip: Also a log in the DSL"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="imagesdb/tip.gif"></td><th align="left">Also a log in the DSL</th></tr><tr><td align="left" valign="top"><p>In <span class="bold"><strong>Camel 2.2</strong></span> onwards there is a <code class="literal">log</code> directly in the DSL, but it has a different purpose. Its meant for lightweight and human logs.</p></td></tr></table></div></div><div class="simplesect" title="Options"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Log_HSH_Options"></a>Options</h2></div></div></div><table id="d0e43518"><tr>
        <th> Option </th>
        <th> Default </th>
        <th> Type </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">level</code>
        </td>
        <td><code class="literal">INFO</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td> Logging level to use. Possible values: <code class="literal">FATAL</code>,
            <code class="literal">ERROR</code>, <code class="literal">WARN</code>, <code class="literal">INFO</code>,
            <code class="literal">DEBUG</code>, <code class="literal">TRACE</code>, <code class="literal">OFF</code>
        </td>
      </tr><tr>
        <td><code class="literal">groupSize</code>
        </td>
        <td><code class="literal">null</code>
        </td>
        <td><code class="literal">Integer</code>
        </td>
        <td> An integer that specifies a group size for throughput logging. By default, regular
          logging is used. </td>
      </tr></table></div><div class="simplesect" title="Formatting"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Log_HSH_Formatting"></a>Formatting</h2></div></div></div><p>The log formats the execution of exchanges to log lines. By default, the log uses
        <code class="literal">LogFormatter</code> to format the log output, where
        <code class="literal">LogFormatter</code> has the following options:</p><table id="d0e43605"><tr>
        <th> Option </th>
        <th> Default </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">showAll</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td> Quick option for turning all options on (multiline, maxChars has to be manually set if to be used). </td>
      </tr><tr>
        <td><code class="literal">showExchangeId</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td> Show the unique exchange ID. </td>
      </tr><tr>
        <td><code class="literal">showExchangePattern</code>
        </td>
        <td><code class="literal">true</code>
        </td>
        <td><span class="bold"><strong>Camel 2.3:</strong></span> Shows the Message Exchange Pattern (or MEP for short). </td>
      </tr><tr>
        <td><code class="literal">showProperties</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td> Show the exchange properties. </td>
      </tr><tr>
        <td><code class="literal">showHeaders</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td> Show the In message headers. </td>
      </tr><tr>
        <td><code class="literal">showBodyType</code>
        </td>
        <td><code class="literal">true</code>
        </td>
        <td> Show the In body Java type. </td>
      </tr><tr>
        <td><code class="literal">showBody</code>
        </td>
        <td><code class="literal">true</code>
        </td>
        <td> Show the In body. </td>
      </tr><tr>
        <td><code class="literal">showOut</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td> If the exchange has an Out message, show the Out message. </td>
      </tr><tr>
        <td><code class="literal">showException</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td><span class="bold"><strong>Apache Camel 2.0:</strong></span> If the exchange has an exception, show the
          exception message (no stack trace). </td>
      </tr><tr>
        <td><code class="literal">showCaughtException</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td><span class="bold"><strong>Apache Camel 2.0:</strong></span> If the exchange has a caught exception,
          show the exception message (no stack trace). A caught exception is stored as a property on
          the exchange and for instance a <code class="literal">doCatch</code> can catch exceptions. See <a class="link" href="Try Catch Finally" target="_top">Try Catch Finally</a>. </td>
      </tr><tr>
        <td><code class="literal">showStackTrace</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td><span class="bold"><strong>Apache Camel 2.0:</strong></span> Show the stack trace, if an exchange has an
          exception. </td>
      </tr><tr>
        <td><code class="literal">showFuture</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td><span class="bold"><strong>Camel 2.1:</strong></span> Whether Camel should show <code class="literal">java.util.concurrent.Future</code> bodies or not. If enabled Camel could potentially wait until the <code class="literal">Future</code> task is done. Will by default not wait. </td>
      </tr><tr>
        <td><code class="literal">multiline</code>
        </td>
        <td><code class="literal">false</code>
        </td>
        <td> If <code class="literal">true</code>, each piece of information is logged on a new line. </td>
      </tr><tr>
        <td><code class="literal">maxChars</code>
        </td>
        <td></td>
        <td><span class="bold"><strong>Apache Camel 2.0:</strong></span> Limits the number of characters logged per
          line. </td>
      </tr></table></div><div class="simplesect" title="Regular logger sample"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Log_HSH_Regularloggersample"></a>Regular logger sample</h2></div></div></div><p>In the route below we log the incoming orders at <code class="literal">DEBUG</code> level before the
    order is processed:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;route&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;from</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"activemq:orders"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"log:com.mycompany.order?level=DEBUG"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"bean:processOrder"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/route&gt;</strong> </pre></div><div class="simplesect" title="Regular logger with formatter sample"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Log_HSH_Regularloggerwithformattersample"></a>Regular logger with formatter sample</h2></div></div></div><p>In the route below we log the incoming orders at <code class="literal">INFO</code> level before the
      order is processed.</p><pre class="programlisting">from("activemq:orders").
    to("log:com.mycompany.order?showAll=true&amp;multiline=true").to("bean:processOrder");</pre></div><div class="simplesect" title="Throughput logger sample"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_IDU_Log_HSH_Throughputloggersample"></a>Throughput logger sample</h2></div></div></div><p>In the route below we log the throughput of the incoming orders at
        <code class="literal">DEBUG</code> level grouped by 10 messages.</p><pre class="programlisting">from("activemq:orders").
    to("log:com.mycompany.order?level=DEBUG?groupSize=10").to("bean:processOrder");</pre></div></div></body></html>